
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>Hi | Brandon Hilkert</title>
	<meta name="author" content="Brandon Hilkert">

	
	<meta name="description" content="Hi. I'm Brandon Hilkert. Iâ€™m a Father, Husband, Technology Entrepreneur, Speaker, and Developer in PA. I have a passion for building something from nothing.">
	

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

	<link href="/atom.xml" rel="alternate" title="Brandon Hilkert" type="application/atom+xml">
	
	<link rel="canonical" href="http://brandonhilkert.com/">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
  <link href='http://fonts.googleapis.com/css?family=Sorts+Mill+Goudy:400,400italic' rel='stylesheet' type='text/css'>
  <link href="http://fonts.googleapis.com/css?family=Open+Sans:300" rel="stylesheet" type="text/css">
</head>


<body>
	<div class="container">
		<div class="left-col">
			<header id="header"><div class="profilepic">
  <a href="/">
    <img src="/images/brandon-hilkert.jpg" width="80" height="80" alt="Brandon Hilkert Profile Picture" />
  </a>
</div>
<hgroup>
  <h1><a href="/">Brandon Hilkert</a></h1>
  
</hgroup>

<nav id="main-nav">
  <ul class="main-navigation">
    <li><a href="/about">About</a></li>
    <li><a href="/">Blog</a></li>
    <li><a href="http://railsmasterclass.com">Class</a></li>
  </ul>
  <section class="aboutme">
    <p>
      Hi. I'm Brandon.
      <br />
      I'm a technology entrepreneur in PA.
    </p>
  </section>
</nav>

<nav id="sub-nav">
	<div class="social">
		
		
		
		<a class="twitter" href="http://twitter.com/brandonhilkert" title="Twitter">Twitter</a>
		
		
		<a class="github" href="https://github.com/brandonhilkert" title="GitHub">GitHub</a>
		
		
		
		
		<a class="linkedin" href="http://www.linkedin.com/in/brandonhilkert">LinkedIn</a>
		
		
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
	</div>
</nav>
<!-- Begin MailChimp Signup Form -->
<div class="newsletter-form">
  <h3>Email Updates</h3>
  <form action="http://brandonhilkert.us7.list-manage2.com/subscribe/post?u=34ccc3aa2135746d0231c9420&amp;id=167c8d9713" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
    <input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email" required>
    <br class="clear">
    <input type="hidden" name="SIGNUP" id="SIGNUP" value="nav" />
    <input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button">
    <br class="clear">
  </form>
</div>
<!--End mc_embed_signup-->


</header>
		</div>
		<div class="mid-col">
			
				
			
			<div class="mid-col-container">
				<div id="content" class="inner">
<div itemscope itemtype="http://schema.org/Blog">


  <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
  <div class="date">








  


<time datetime="2013-10-20T16:41:00-04:00" data-updated="true" itemprop="datePublished">October 20<span>th</span>, 2013</time></div>
	<h1 class="title" itemprop="name"><a href="/blog/why-i-wrote-sucker-punch/" itemprop="url">Why I Wrote Sucker_punch</a></h1>
  <div class="tags">


	<a class='category' href='/blog/categories/open-source/'>open source</a>, <a class='category' href='/blog/categories/programming/'>programming</a>, <a class='category' href='/blog/categories/ruby/'>ruby</a>


</div>
	<div class="meta">
		
	</div>
	<div class="entry-content" itemprop="articleBody">
		<p>One of the simplest and most common application of
background processing is sending emails outside of a web
request. And while background processing is pretty
common, Ruby libraries require an additional background
process to execute jobs. The application I was working on
was hosted on Heroku, and the cost of adding an
additional dyno is $35/month. The background jobs did
very little more than send emails the current solutions
seemed like overkill to me. So
<a href="https://github.com/brandonhilkert/sucker_punch">sucker_punch</a>
was born&hellip;</p>

<h3>Ruby Background Processing Libraries</h3>

<p>Until I had heard of Sidekiq,
<a href="https://github.com/collectiveidea/delayed_job/tree/master">delayed_job</a>
and <a href="https://github.com/resque/resque">Resque</a> were the
standard options for processing background jobs in Ruby.
I&rsquo;ve used both and believe each has a great use case.</p>

<p>My experience is that it&rsquo;s easiest to start with
delayed_job and if you get to the point where the DB is
your bottleneck, it&rsquo;s time to move on. Redis is a
dependency of both Resque and Sidekiq, so it requires
more infrastructure and care to maintain, however, with
<a href="https://addons.heroku.com/?q=redis">Heroku&rsquo;s hosted Redis
Add-ons</a>, this
dependency is much less of a pain any more.</p>

<h3>My work on Sidekiq</h3>

<p>I previously wrote about my my <a href="http://brandonhilkert.com/blog/3-ways-to-get-started-contributing-to-open-source/">open source
contributions</a>
and how I got started. I had spent the previous several
months contributing to Sidekiq and learning more about
concurrency patterns in Ruby.</p>

<p>Sidekiq is multi-threaded, which is the reason a single
Sidekiq process is <a href="https://github.com/mperham/sidekiq/wiki/Testimonials">more
efficient</a>.
However, care must be taken to ensure your jobs are
thread-safe. A helpful <a href="https://github.com/mperham/sidekiq/wiki/Best-Practices">guide to writing thread-safe
code</a>
can be found on the Sidekiq wiki.</p>

<h3>My Use Case</h3>

<p>I was working on <a href="http://defriendnotifierapp.com/">Defriend
Notifier</a> and needed to
notify users via email when their Facebook friend list
changed. Using Sidekiq or any of the alternatives
mentioned above would have worked for my use. In fact,
the application originally did use Sidekiq and worked
perfectly. However, I was looking for ways to reduce the
hosting cost of the application given that it doesn&rsquo;t
produce any revenue stream outside of advertising.</p>

<p>The only background processing library that doesn&rsquo;t
require an additional background process is
<a href="https://github.com/mperham/girl_friday">girl_friday</a>,
also written by <a href="https://twitter.com/mperham">Mike
Perham</a>, author of Sidekiq.
While this solution worked for awhile, I found the syntax
to be slightly non-intuitive and it felt a little dirty
to pass around a global variable within the application
to manage a single job queue. I also experienced some
memory leaks on Heroku as a result of switching to
girl_friday, but to be fair, I didn&rsquo;t spend much time
determining the root cause. It&rsquo;s very likely it could
have been code that I wrote.</p>

<h3>Celluloid</h3>

<p><a href="https://github.com/celluloid/celluloid">Celluloid</a>
describes itself as an actor-based concurrent object
framework for Ruby. Celluloid is the guts behind Sidekiq
and the reason why the multi-threaded Sidekiq code is so
readable. Celluloid abstracts away the details of
concurrency so that the library code doesn&rsquo;t have to
worry about manually managing thread synchronization and
object message queuing.</p>

<h3>sucker_punch is born</h3>

<p>girl_friday was written several years previous, before
Celluloid was created. Realizing the power of Celluloid,
I figured there was an opportunity for a new library that
essentially behaved like girl_friday, but utilized
Celluloid&rsquo;s more reliable multi-threading capabilities.</p>

<p>I <a href="https://twitter.com/brandonhilkert/status/292630123981729793">tweeted at Mike
Perham</a>
and his response was enough to affirm my interest.</p>

<p>Fortunately, Celluloid had all of the functionality
needed for background queues already built-in. While the
functionality was there, the usage syntax was a little
awkward given that it wasn&rsquo;t primary usage for the
framework.</p>

<p>I spent the next few days creating a DSL around the
Celluloid internals, thus making it feel more specific to
background queues.</p>

<p>Here is a typical job class:</p>

<figure class='code'><figcaption><span>Example sucker_punch job class</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">LogJob</span>
</span><span class='line'>  <span class="kp">include</span> <span class="ss">SuckerPunch</span><span class="p">:</span><span class="ss">:Job</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">perform</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
</span><span class='line'>    <span class="c1"># do some other stuff to</span>
</span><span class='line'>    <span class="c1"># record the event in the background</span>
</span><span class='line'>    <span class="nb">puts</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="n">event</span><span class="si">}</span><span class="s2"> just happened&quot;</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>I deployed the sucker_punch-converted code to production
and gave it a week or so before I declared it a success.
Once I realized sucker_punch was going to be a
maintainable method for processing background jobs in a
single web process, I added additional niceties like
logging and queue configuration details that may be
valuable for other use cases.</p>

<p>Have you tried sucker_punch yet? If so, I&rsquo;d love to know how it went and what you used it for&hellip;</p>

		
		
	</div>

</article>


  <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
  <div class="date">








  


<time datetime="2013-10-15T16:30:00-04:00" data-updated="true" itemprop="datePublished">October 15<span>th</span>, 2013</time></div>
	<h1 class="title" itemprop="name"><a href="/blog/3-ways-to-get-started-contributing-to-open-source/" itemprop="url">3 Ways to Get Started Contributing to Open Source</a></h1>
  <div class="tags">


	<a class='category' href='/blog/categories/open-source/'>open source</a>, <a class='category' href='/blog/categories/programming/'>programming</a>, <a class='category' href='/blog/categories/ruby/'>ruby</a>


</div>
	<div class="meta">
		
	</div>
	<div class="entry-content" itemprop="articleBody">
		<p>Towards the end of 2012, I began feeling like a had a good grip on the Ruby
language. As mentioned in a <a href="/blog/the-technology-hump/">previous
post</a>, I felt confident enough in my skills that
I could make a positive contribution to the open source community.</p>

<p>I learned a lot by watching certain projects and getting involved with others
and hope that my notes are helpful for you and your endeavors.</p>

<h3>1. Fix a bug in an existing gem because it affects you</h3>

<p>My experience with <a href="/about">Meeteor</a> and <a href="/about">Spokely</a> caused me to move
FAST and break a lot of things along the way. Because of the pace, when I did
find a bug, I wasn&rsquo;t great at contributing code back to the source repository.
In many cases, my fixes were brute force <a href="http://en.wikipedia.org/wiki/Monkey_patch">monkey
patches</a> or something else that I
would probably be pretty embarassed about today.</p>


		
		<a href="/blog/3-ways-to-get-started-contributing-to-open-source/" class="more-link">continue reading &rarr;</a>
	</div>

</article>


  <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
  <div class="date">








  


<time datetime="2013-09-30T08:34:00-04:00" data-updated="true" itemprop="datePublished">September 30<span>th</span>, 2013</time></div>
	<h1 class="title" itemprop="name"><a href="/blog/loyalty/" itemprop="url">Loyalty</a></h1>
  <div class="tags">


	<a class='category' href='/blog/categories/family/'>family</a>, <a class='category' href='/blog/categories/friends/'>friends</a>, <a class='category' href='/blog/categories/ironman/'>ironman</a>, <a class='category' href='/blog/categories/triathlon/'>triathlon</a>


</div>
	<div class="meta">
		
	</div>
	<div class="entry-content" itemprop="articleBody">
		<p>Last weekend, I finished an
<a href="http://www.tricolumbia.org/events/chesapeakeman-endurance-festival/">Ironman</a>.
The training consumed valuable time with both family and friends that I&rsquo;ll
never get back. However, the support and love that I received on the days
surrounding the race have given me an increased appreciation for the people
that are in my life and the unwavering support they offer.</p>

<p>Finishing the race was an incredible experience. The day of the race had its
share of extreme ups and downs, both of which I&rsquo;ve come to value now that it&rsquo;s
over. Since I no longer have to worry about waking up at 5 a.m. to get to gym,
I&rsquo;ve spent a fair amount of time replaying the past 30 weeks and the sacrifices
involved.</p>


		
		<a href="/blog/loyalty/" class="more-link">continue reading &rarr;</a>
	</div>

</article>


  <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
  <div class="date">








  


<time datetime="2013-09-23T20:16:00-04:00" data-updated="true" itemprop="datePublished">September 23<span>rd</span>, 2013</time></div>
	<h1 class="title" itemprop="name"><a href="/blog/the-technology-hump/" itemprop="url">The Technology Hump</a></h1>
  <div class="tags">


	<a class='category' href='/blog/categories/php/'>php</a>, <a class='category' href='/blog/categories/products/'>products</a>, <a class='category' href='/blog/categories/programming/'>programming</a>, <a class='category' href='/blog/categories/rails/'>rails</a>, <a class='category' href='/blog/categories/ruby/'>ruby</a>, <a class='category' href='/blog/categories/startups/'>startups</a>


</div>
	<div class="meta">
		
	</div>
	<div class="entry-content" itemprop="articleBody">
		<p>For the past few years, I&rsquo;ve spent most of my waking moments either reading about or writing code. For me, it&rsquo;s about the constant pursuit of learning and getting better at my craft. In hindsight, I can say that that mentality has helped me have a leg up on the competition (for reasons I will detail in future posts).</p>

<h3>Rewind 4 years</h3>

<p>Four years ago I was writing PHP on the side for startups and just getting into software products as both a profession and hobby (more on this too&hellip;). I had reached a level of comfort with PHP where I knew I could solve just about any business problem thrown at me. This feeling was not only comforting, but empowering. Shortly after, I helped create <a href="/about">Meeteor</a>, which was written in <a href="http://rubyonrails.org/">Rails</a> and my world took turn for the better.</p>


		
		<a href="/blog/the-technology-hump/" class="more-link">continue reading &rarr;</a>
	</div>

</article>

</div>
<nav id="pagenavi">
  
  
  <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav>
</div>
			</div>
			<footer id="footer" class="inner"><p>
  Copyright &copy; 2013 - Brandon Hilkert
</p>
</footer>
			<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'brandonhilkert';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-24469169-1']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-24469169-2', 'brandonhilkert.com');
    ga('send', 'pageview');
  </script>



		</div>
	</div>
</body>
</html>
